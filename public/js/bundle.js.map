{"version":3,"sources":["mapbox.js","alert.js","login.js","updateSettings.js","stripe.js","signup.js","index.js"],"names":["displayMap","locations","mapboxgl","accessToken","map","Map","container","style","bounds","LngLatBounds","forEach","loc","ele","document","createElement","className","Marker","element","anchor","setLngLat","coordinates","addTo","Popup","offset","setHTML","day","description","extend","fitBounds","padding","top","bottom","left","right","hideAlert","querySelector","parentElement","removeChild","showAlert","type","mssg","time","markup","insertAdjacentHTML","window","setTimeout","login","email","password","axios","method","url","data","status","location","assign","response","message","logout","replace","console","log","updateSettings","Url","toUpperCase","reload","stripe","Stripe","bookTour","tourid","session","redirectToCheckout","sessionId","id","signUp","name","confirmPassword","mapBox","getElementById","loginForm","logoutUser","signupForm","updateformData","updateformPassoword","savePasswordbtn","bookbtn","JSON","parse","dataset","addEventListener","e","preventDefault","value","form","FormData","append","files","textContent","currentPassword","target","tourId","alertMessage","alert"],"mappings":"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","file":"bundle.js","sourceRoot":"","sourcesContent":["/* eslint-disable */\r\n\r\nexport const displayMap = (locations) => {\r\n  mapboxgl.accessToken =\r\n    'pk.eyJ1IjoicHJpbmNlMTciLCJhIjoiY2txOTBoNHlxMDRtbTJ2bnl6YTVuMGhzbiJ9.OyRx4WyPRpiiw7XySALV5Q';\r\n\r\n  var map = new mapboxgl.Map({\r\n    container: 'map',\r\n    style: 'mapbox://styles/prince17/ckq99vd3702ai17k0pyzb0ww6',\r\n    //   scrollZoom: false,\r\n    //   center: [-80.185942, 25.774772],\r\n    //   zoom: 6,\r\n  });\r\n\r\n  const bounds = new mapboxgl.LngLatBounds();\r\n\r\n  locations.forEach((loc) => {\r\n    // Creating marker\r\n    const ele = document.createElement('div');\r\n    ele.className = 'marker';\r\n\r\n    // Add marker\r\n    new mapboxgl.Marker({\r\n      element: ele,\r\n      anchor: 'bottom',\r\n    })\r\n      .setLngLat(loc.coordinates)\r\n      .addTo(map);\r\n\r\n    // Add Popup\r\n    new mapboxgl.Popup({\r\n      offset: 30,\r\n    })\r\n      .setLngLat(loc.coordinates)\r\n      .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\r\n      .addTo(map);\r\n\r\n    // Extends map bounds to include current location\r\n    bounds.extend(loc.coordinates);\r\n  });\r\n\r\n  map.fitBounds(bounds, {\r\n    padding: {\r\n      top: 200,\r\n      bottom: 150,\r\n      left: 100,\r\n      right: 100,\r\n    },\r\n  });\r\n};\r\n","/*elslint-disable */\r\n\r\nexport const hideAlert = () => {\r\n  const ele = document.querySelector('.alert');\r\n  if (ele) {\r\n    ele.parentElement.removeChild(ele);\r\n  }\r\n};\r\n\r\nexport const showAlert = (type, mssg, time = 5) => {\r\n  hideAlert();\r\n  // type is either 'success' or 'error'\r\n  const markup = `<div class = \"alert alert--${type}\">${mssg}</div>`;\r\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n  window.setTimeout(hideAlert, time * 1000);\r\n};\r\n","/*eslint-disable */\r\n// import axios from 'axios';\r\n\r\nimport { showAlert } from './alert.js';\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/login',\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Logged in successfully');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    showAlert('error', error.response.data.message);\r\n  }\r\n\r\n  // ALTERNATE METHOD\r\n  //   try {\r\n  //     const res = await fetch('http://localhost:3000/api/v1/users/login', {\r\n  //       method: 'POST',\r\n  //       headers: {\r\n  //         'Content-Type': 'application/json',\r\n  //       },\r\n  //       body: JSON.stringify({\r\n  //         email,\r\n  //         password,\r\n  //       }),\r\n  //     });\r\n  //     const mssg = await res.json();\r\n  //     console.log(mssg);\r\n  //   } catch (error) {\r\n  //     console.log(error);\r\n  //   }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'GET',\r\n      url: '/api/v1/users/logout',\r\n    });\r\n\r\n    if ((res.data.status = 'succuss')) window.location.replace('/');\r\n  } catch (error) {\r\n    console.log(error);\r\n    showAlert('error', 'Error while logging out ! Please try again');\r\n  }\r\n};\r\n","import { showAlert } from './alert.js';\r\n\r\n// type can either be  \"password\" or 'data'\r\nexport const updateSettings = async (data, type) => {\r\n  try {\r\n    const Url =\r\n      type === 'password'\r\n        ? '/api/v1/users/updatemypassword'\r\n        : '/api/v1/users/updateme';\r\n\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url: Url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', `${type.toUpperCase()} Successfully Changed !`);\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 2000);\r\n    }\r\n  } catch (error) {\r\n    showAlert('error', error.response.data.message);\r\n  }\r\n};\r\n","/*elslint-disable*/\r\nconst stripe = Stripe(\r\n  'pk_test_51J7xAVSImjx41WueEAnS5miZsR24N9sxaayqfGhfKZVaomJGbIxdSwy0YQATUK018osf2Fb84sKkqDrv2YKZK3rs00u68VJ75i'\r\n);\r\n\r\nexport const bookTour = async (tourid) => {\r\n  try {\r\n    // 1. Get the checkout session from API\r\n    const session = await axios(`/api/v1/bookings/checkout-session/${tourid}`);\r\n\r\n    // 2. Create checkout form + charge credit card\r\n    await stripe.redirectToCheckout({\r\n      sessionId: session.data.session.id,\r\n    });\r\n  } catch (error) {}\r\n};\r\n","/*eslint-disabel */\r\n\r\nimport { showAlert } from './alert.js';\r\n\r\nexport const signUp = async (name, email, password, confirmPassword) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/signup',\r\n      data: {\r\n        name,\r\n        email,\r\n        password,\r\n        confirmPassword,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Account Created Successfully');\r\n      window.setTimeout(() => {\r\n        location.assign('/me');\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    showAlert('error', error.response.data.message);\r\n  }\r\n};\r\n","/*eslint-disable */\r\n\r\n// import { present } from './babel.config'; // this is to run some js feature on the older browser\r\n\r\n// const displayMap = require('./mapbox');\r\n// const login = require('./login');\r\nimport { displayMap } from './mapbox.js';\r\nimport { login, logout } from './login.js';\r\nimport { updateSettings } from './updateSettings.js';\r\nimport { bookTour } from './stripe.js';\r\nimport { signUp } from './signup.js';\r\nimport { showAlert } from './alert.js';\r\n\r\n// DOM Elements\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('#login');\r\nconst logoutUser = document.querySelector('#logout');\r\nconst signupForm = document.getElementById('sign-up');\r\nconst updateformData = document.querySelector('#update-form-data');\r\nconst updateformPassoword = document.querySelector('#update-form-password');\r\nconst savePasswordbtn = document.getElementById('save-password');\r\nconst bookbtn = document.getElementById('book-tour');\r\n// DELEGATION\r\nif (mapBox) {\r\n  // Mapbox.js\r\n  const locations = JSON.parse(mapBox.dataset.locations);\r\n  displayMap(locations);\r\n}\r\n\r\n// login.js\r\nif (loginForm) {\r\n  loginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n\r\n    login(email, password);\r\n  });\r\n}\r\n\r\n// signup.js\r\nif (signupForm) {\r\n  signupForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const name = document.getElementById('name').value;\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    const confirmPassword = document.getElementById('confirm-password').value;\r\n\r\n    console.log(name, email);\r\n\r\n    signUp(name, email, password, confirmPassword);\r\n  });\r\n}\r\n\r\n// logout user\r\nif (logoutUser) {\r\n  logoutUser.addEventListener('click', logout);\r\n}\r\n\r\nif (updateformData) {\r\n  updateformData.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append('name', updateformData.querySelector('#name').value);\r\n    form.append('email', updateformData.querySelector('#email').value);\r\n    form.append('photo', updateformData.querySelector('#photo').files[0]);\r\n\r\n    updateSettings(form, 'data');\r\n  });\r\n}\r\n\r\nif (updateformPassoword) {\r\n  updateformPassoword.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    savePasswordbtn.textContent = 'Updating.....';\r\n    const currentPassword =\r\n      updateformPassoword.querySelector('#password-current').value;\r\n    const password = updateformPassoword.querySelector('#password').value;\r\n    const confirmPassword =\r\n      updateformPassoword.querySelector('#password-confirm').value;\r\n    await updateSettings(\r\n      { currentPassword, password, confirmPassword },\r\n      'password'\r\n    );\r\n    savePasswordbtn.textContent = 'Save Password';\r\n  });\r\n}\r\n\r\n// booking tour\r\nif (bookbtn) {\r\n  bookbtn.addEventListener('click', (e) => {\r\n    e.target.textContent = 'Processing....';\r\n    const { tourId } = e.target.dataset;\r\n    bookTour(tourId);\r\n  });\r\n}\r\n\r\nconst alertMessage = document.querySelector('body').dataset.alert;\r\nif (alertMessage) showAlert('success', alertMessage, 20);\r\n"]}